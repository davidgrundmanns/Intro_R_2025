---
title: "Intro to R. Session 1: Solutions"
output:
  html_notebook:
    toc: TRUE
    code_folding: "none"
editor_options: 
  markdown: 
    wrap: sentence
---

## Solutions for End of Session exercises (part 4): 

### Exercise 1: Create a vector called `my_vector` with the values 1,2,3 and check is class.

```{r}
#create the vector 
my_vector <- c(1,2,3)

#check the class
class(my_vector)

```

### Exercise 2: Create a Matrix called `student`. This should contain information about the `name`, `age` and `major`. Make three vectors and bind them together to a the matrix `student`. Print the matrix. 

```{r}
#Create the vectors 
name <- c("SÃ¶ren", "Fatma", "Klaus", "Fidelius", "Sven") 
age  <- c(18, 22, 21, 19, 28) 
major <- c("Political Science", "Law", "Buisness Administration",
           "Philosophy", "Law")

# Using cbind, bind the columns to create a matrix
student <- cbind(name, 
                 age,
                 major)

print(student)

```

### Exercise 3: Write an if-else statement that checks if a given number is positive or negative. If the number is positive, print "Number is positive", otherwise print "Number is negative". Feel free to decide if you want to use the ifelse function or the ifelse condition.

```{r}
#Assign a number to the object "number"
number <- -4

#ifelse() function (Solution 1)
ifelse(number > 0,         # if number is larger than zero
       "Positive Number",  # then number is positive
       "Negative Number"   # else number is negative (or 0)
       )

#ifelse condition (Solution 2)
if (number > 0) {          # if number is larger than zero
  print("Positive Number") # then number is positive
} else {                   
  print("Negative Number") # else number is negative (or 0)
}

```


### Exercise 4:

Score >= 90: "A"
Score >= 80 and < 90: "B"
Score >= 70 and < 80: "C"
Score >= 60 and < 70: "D"
Score < 60: "F"

```{r}
# assign a score
score <- 78

# ifelse() function 
ifelse(score >= 90, "A", 
       ifelse (score >= 80 , "B", 
               ifelse(score >= 70 , "C",
                      ifelse(score >= 60 , "D", "F"))))

#ifelse condition 

if (score >= 90) {
  print("A") 
} else if (score >= 80) {
  print("B")
} else if (score >= 70) {
  print("C")
} else if (score >= 60) {
  print("D") 
} else {
  print("F")
}

```


## Solutions to other exercises

### Part 1

#### Problem 1

```{r}
#you can use this following formula:
#total amount = the principal * (1 + interest rate * years)
total <- 1.9 * (1 + 0.025 * 10)

#round the amount to the first and second decimal place
round(total, digits = 1)
paste(round(total, digits = 2), "Million Euro")

#hint: first answer is 2.4 millions, second is 2.38 millions
```
  
**Problem 2**

A voter has to choose between two candidates.
She has a position of **5** on the cultural left-right scale and **2** on the economic left-right scale.
She puts a weight of **0.7** on cultural issues and **0.3** on economic issues.
Candidate A has position of **6** on both cultural and economic issues, while candidate B has position of **3** on both cultural and economic issues.
Which candidate is she more likely to vote for?

```{r}
#hint: she is likely to vote for the candidate with the smaller distance
#to her issue positions, use these formulas:
# D_A = W_E * |P_EV - P_EA| + W_C *|P_CV - P_CA|
# D_B = W_E * |P_EV - P_EB| + W_C *|P_CV - P_CB|

#where:
#D_i is distance of voter to Candidate i
#W_E is the weight the voter puts on economic issues
#W_C is the weight the voter puts on cultural issues
#P_Ei is the position of person i on the economic scale
#P_Ci is the position of person i on the cultural scale

# solution 1: ifelse()
D_A <- 0.3 * abs(2 - 6) + 0.7 * abs(5 - 6)
D_B <- 0.3 * abs(2 - 3) + 0.7 * abs(5 - 3)
ifelse(D_A > D_B, "Candidate A",
       ifelse(D_B > D_A, "Candidate B",
          ifelse(D_A == D_B, "neither")))

# solution 2: min()
min(0.3 * abs(2-6) + 0.7 *abs(5-6), 0.3 * abs(2-3) + 0.7 *abs(5-3))
min_D <- min(D_A, D_B)



###hint: D_A = 1.9, D_B = 1.7

```
  
### Part 3: Exercise on logical operators

```{r}
set.seed(2024)
vote_populist <- rnorm(300, 40, 12) 
#we generate 300 normally distributed random values using rnorm()
#set.seed() makes our random draws reproducible
paste(length(vote_populist), " districts")

# Solution 1: length()
paste(length(vote_populist[vote_populist <= 25]),"  Safe democratic")

paste(length(vote_populist[vote_populist >= 25 & votes_p < 33]),
      "  Significant populist minority"
     )

paste(length(vote_populist[vote_populist >= 33 & votes_p < 50]),
      " Blocking populist minority"
     )

paste(length(vote_populist[vote_populist >= 50 & votes_p < 63]),
      "  Absolute populist majority"
     )

paste(length(vote_populist[vote_populist >= 63]),
      "   Super populist majority"
     )

```

### Part 4: Exercise on data frames

```{r}
#create the dataframe
df <- data.frame(university = c("Harvard", "Stanford", "Hertie", "Konstanz", "Mannheim"),
attending = c(19000, 31000, 9300, 8200, 12300),
city = c("Cambridge", "Stanford", "Berlin", "Konstanz", "Mannheim"),
pop = c(150000, 20000, 3400000, 160000, 220000),
applied = c(FALSE, TRUE, TRUE, TRUE, FALSE))

#create a new variable for the ratio of students to total people living in the city
df$ratio <- df$attending/df$pop
print(df$ratio)

#select the column for cities and save it in a vector
cities <- df["city"]

#select the row for Uni Mannheim and save it in a vector
mannheim <- df[df$city == "Mannheim",]

#select all columns except the application to university and save it in a new dataframe
df_new <- df[,colnames(df) != "applied"]
print(df_new)

# or
df[,colnames(df) != "applied"]
```
